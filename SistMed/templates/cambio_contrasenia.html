<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.1//EN" "http://www.w3.org/TR/xhtml11/DTD/xhtml11.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en">

<head>
    <meta name="author" content="Ricardo D. Quiroga -> L2Radamanthys"/>
    <meta http-equiv="content-type" content="text/html; charset=UTF-8"/>
    <meta http-equiv="content-type" content="application/xhtml+xml; charset=UTF-8"/>
    <meta http-equiv="content-style-type" content="text/css"/>

    <title>
        {{ page_title }}
    </title>

    <link type="text/css" rel="stylesheet" media="all" href="{{ css_template }}">
</head>

<body>

<script type="text/javascript" src="/site_media/scripts/validate-form.js"></script>
<script type="text/javascript">
var validator = new Validator([

    ['pswd_1', {'method': 'min_lenght', 'lenght':3, 'cont_id':'error_1', 'msj_error':'Error campo demaciado Corto'}],
    ['pswd_2', {'method': 'cmp_field', 'field_cmp':'pswd_1','cont_id':'error_2', 'msj_error':'La Nueva Contraseña no coincide'}],
]);
        
function validar(form_id) {
    var form = document.getElementById(form_id);
    if (validator.eval_fields()) {
        form.submit();
    } 
}

function limpiar() { validator.clear_all_cont() }
</script>

    <div align="center">

    <div class="barra_superior">
        <a href='/' class='boton'><span>Volver al Inicio</span></a>
    </div>

    <br />
    <br />
    <br />

    <div class='window' style="width:400px;">
    <div class="win_title_bar">
        <div class="window_title">
            <label>Cambio Contraseña</label>
        </div>
    </div>
        <form action='/accounts/change_password/'  method='post' id="mi_form">
        <table border='0' cellpadding='0' cellspacing="3px">

        <tr>
            <td><label>Contraseña Anterior:</label></td>
            <td><input class='edt_m' type="password" name="password_old" value="" id="password" /></td>
        </tr>
        <tr>
            <td><label>Nueva Contraseña:</label></td>
            <td><input class='edt_m' type="password" name="password_new0" value="" id="pswd_1" /></td>
        </tr>
        <tr><td colspan="2"><span id="error_1"></span></td></tr>
        <tr>
            <td><label>Repetir Nueva Contraseña:</label></td>
            <td><input class='edt_m' type="password" name="password_new1" value="" id="pswd_2" /></td>
        </tr>
        <tr><td colspan="2"><span id="error_2"></span></td></tr>
        <tr>
            <td colspan='2' align='center'>
            <br />
            <input type="hidden" name="query" value="1"/>
            <input type='button' value='Cambiar' class='boton' onClick="validar('mi_form')"/>
            <input type='Reset' value='Limpiar' class='boton' onClick="limpiar()"/>
            </td>
        </tr>
        </table>
        </form>
    </div>

    
    <br />
    {% if query %}
        <div class='{{ msj_class }}'>
        <p>{{ mensaje }} </p>
        </div>
    {% endif %}
    <br />
    
    </div>
</body>
</html>

